<html>
  <head>
    <script>
      function listContainer(){
        const myHTTP= new XMLHttpRequest();
        const url="http://localhost:3000/listcontainer";
        myHTTP.open("GET",url, false);
        myHTTP.send();
        document.getElementById("outputBox").innerHTML=myHTTP.responseText;
        }
      
      function createImage(){
        const myHTTP= new XMLHttpRequest();
        const imageName=document.getElementById("imageNameInput").value;
        console.log(imageName);
        const fileContent=document.getElementById("fileContentInput").value;
        console.log(fileContent);
        const url="http://localhost:3000/createimage?imagename="+imageName+"&dockerfilecontent="+fileContent;
        console.log(url);


        myHTTP.open("GET",url, false);
        myHTTP.send();  
        console.log(myHTTP.responseText);
        document.getElementById("outputBox").innerHTML=myHTTP.responseText;
      }
      
      function listImages(){
        const myHTTP= new XMLHttpRequest();
        const url="http://localhost:3000/listimages";
        myHTTP.open("GET",url, false);
        myHTTP.send();
        console.log(myHTTP.responseText);
        document.getElementById("outputBox").innerHTML=myHTTP.responseText;

      }
      
      function createContainer() {
        const myHTTP = new XMLHttpRequest();
        const containerName = document.getElementById("cname").value;
        console.log(containerName);
        const containerImage = document.getElementById("cimage").value;
        console.log(containerImage);
        const url =
          "http://localhost:3000/run?cname=" +
          containerName +
          "&cimage=" +
          containerImage;
        console.log(url);

        myHTTP.open("GET", url, false);
        myHTTP.send();
        console.log(myHTTP.responseText);
        document.getElementById("outputBox").innerHTML = myHTTP.responseText;
      }

      function deleteContainer() {
        const myHTTP = new XMLHttpRequest();
        const containerName = document.getElementById(
          "deleteConatainerName"
        ).value;
        console.log(containerName);
        const url =
          "http://localhost:3000/deletecontainer?dname=" + containerName;
        console.log(url);

        myHTTP.open("GET", url, false);
        myHTTP.send();
        console.log(myHTTP.responseText);
        document.getElementById("outputBox").innerHTML = myHTTP.responseText;
      }
      
    </script>  
    <style>
    #base{
  background-color: #fec0cb;
  padding: 8px 8px 8px 8px;
  height: 100%;
  width: 100%;
}
#header{
  background-color: palevioletred;
  display: inline-block;
  margin-bottom: 5px;
  height: 10%;
  width: 100%;
  position: relative;
  border-radius: 5px 5px;
  box-shadow: 7px 7px 12px grey ;
  }
#heading{
  margin-top: 2px;
  padding-top:5px;
  padding-left:5px;
  color:white;
  font-family: "Garamond";
  font-size: 400%;
  text-align: center;
}
#backBlock{
  display:flex;
  flex-wrap: no-wrap;
  margin-top: 5px;
  height: 88%;
  width: 100%;
  position: relative;
}
.ioBox{
  width: 50%;
  height: auto;
  float: left;
  margin: 5px 5px 5px 5px;
}
#outputBox{
  overflow-y: scroll !important;
  background-color: white;
  display: block;
  border-radius: .8%;
}
    </style>
  </head>
  <body>
    <div id="base">
      <div id="header">
        <div id="heading">Docker Container Management</div>
      </div>
      <div id="backBlock">
        <div id="formArea" class="ioBox">
           <div id="createContainerSection">
            <div>Create Container</div>
            <div>Name: <input name="cname" id="cname" /></div>
            <div>
              Image:
              <select name="cimage" id="cimage">
                <option value="centos">CentOs</option>
                <option value="ubuntu">Ubuntu</option>
                <option value="amazonlinux">Amazonlinux</option>
                <option value="archlinux">Archlinux</option>
                <option value="oraclelinux">Oraclelinux</option>
              </select>
            </div>
            <button id="createContainerButton" onclick="createContainer()">
              Create
            </button>
          </div>
          
           <div id="listContainerSection">
            <div>List All Container</div>
            <button id="listContainerButton" onclick="listContainer()">Create</button>
           </div>
          
          <form id="deleteContainer" action="/deletecontainer">
            <div>Delete Container</div>
            <div>Name: <input name="dname" /></div>
            <button id="deletecontainerContainerButton">Create</button>
          </form>
        </form>
                                                       
        <div id="createDockerImageSection">
          <div>Create Image using Dockerfile</div>
          <div>Name of Image: <input id="imageNameInput" name="imagename"/></div>
          <div> DockerFile Content:</div>
          <textarea id="fileContentInput" name="dockerfilecontent"></textarea><br>
          <button id="createImageButton" onclick="createImage()">Create</button>
        </div>  
        
        <div id="listImagesSection">
          <div>List All Images</div>
          <button id="listImagesButton" onclick="listImages()">List All Images</button>
        </div>
                       
        </div>
        <div id="outputBox" class="ioBox"></div>
      </div>
    </div>
  </body>
</html>
